# Batch Size Limits

**Date**: 2026-01-21  
**Status**: Open  
**Priority**: Low  
**Source**: [OCP Protocol Review](./2026.01.21-ocp-protocol-review.md) â€” Issue 7.1

## Problem

The batch API doesn't enforce or document maximum batch sizes. Large batches may timeout or fail
with unclear errors.

## Recommendation

Add configurable limits and pagination:

```typescript
const MAX_BATCH_SIZE = 100;

create<T extends OcfEntityType>(type: T, data: OcfDataTypeFor<T>): this {
  if (this.size >= MAX_BATCH_SIZE) {
    throw new OcpValidationError('batch', `Maximum batch size (${MAX_BATCH_SIZE}) exceeded`);
  }
  // ...
}
```

## Tasks

- [ ] Research Canton/DAML transaction size limits
- [ ] Determine safe default batch size
- [ ] Add configurable `maxBatchSize` option
- [ ] Add clear error when batch size exceeded
- [ ] Document batch size limits
- [ ] Consider pagination helper for large datasets

## Acceptance Criteria

- Batch size limit enforced with clear error
- Limit is configurable
- Documentation explains limits and workarounds
- Large dataset example shows pagination pattern
